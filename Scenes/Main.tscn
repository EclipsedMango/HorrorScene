[gd_scene load_steps=9 format=3 uid="uid://clapenqe43n2g"]

[ext_resource type="Texture2D" uid="uid://kbevcyv5t7g7" path="res://Images/CheckeredPattern.png" id="1_2q4tk"]
[ext_resource type="PackedScene" uid="uid://d2oyjj2d3bk2b" path="res://Scenes/Player.tscn" id="1_idj7w"]
[ext_resource type="PackedScene" uid="uid://yro3yrnh0ajp" path="res://Scenes/MonsterNPC.tscn" id="2_kln2b"]

[sub_resource type="Environment" id="Environment_76we7"]
sdfgi_enabled = true
sdfgi_use_occlusion = true
sdfgi_cascades = 3
sdfgi_min_cell_size = 14.8525
sdfgi_energy = 0.05
glow_enabled = true
glow_intensity = 4.22
glow_strength = 0.26
glow_bloom = 1.0
glow_map_strength = 0.65
fog_light_color = Color(0.654902, 0.654902, 0.654902, 1)
fog_light_energy = 0.32
fog_density = 0.005
volumetric_fog_enabled = true
volumetric_fog_density = 0.0184
volumetric_fog_albedo = Color(0.654232, 0.654232, 0.654232, 1)
volumetric_fog_emission_energy = 0.0
volumetric_fog_length = 1024.0
adjustment_enabled = true

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_iydfj"]
shading_mode = 0
diffuse_mode = 3

[sub_resource type="NavigationMesh" id="NavigationMesh_idj7w"]
vertices = PackedVector3Array(3.00796, 0.195, -6.55722, 3.40796, 0.195, -6.65722, 3.40796, 0.195, -6.75722, -6.79204, 0.195, -3.25722, -5.99204, 0.195, -3.25722, -5.89204, 0.195, -3.65722, -5.49204, 0.195, -3.95722, -6.79204, 0.195, -6.75722, 1.70796, 0.195, -3.85722, 2.50796, 0.195, -5.05722, 2.30796, 0.195, -5.35722, 2.40796, 0.195, -5.85722, 4.00796, 0.195, -6.45722, 6.70796, 0.195, -6.75722, 3.10796, 0.195, -4.45722, 2.10796, 0.195, -3.35722, 4.50796, 0.195, -5.15722, 4.80796, 0.195, -3.75722, 5.30796, 0.195, -3.25722, 6.70796, 0.195, -2.45722, 4.50796, 0.195, -5.95722, 3.70796, 0.195, -4.35722, 3.90796, 0.195, -3.15722, 4.20796, 0.195, -3.65722, 5.30796, 0.195, -2.45722, 2.10796, 0.195, 0.742783, 2.10796, 0.195, 1.14278, 3.90796, 0.195, 1.04278, 1.80796, 0.195, -2.65722, 1.80796, 0.195, 0.342782, 0.807961, 0.195, -2.55722, 0.807961, 0.195, 0.242782, -5.59204, 0.195, -1.95722, -5.19204, 0.195, -2.05722, -5.09204, 0.195, -2.55722, -5.69204, 0.195, -2.65722, -6.79204, 0.195, 1.54278, -5.99204, 0.195, 1.54278, -5.89204, 0.195, -1.55722, -4.79204, 0.195, -1.95722, -4.49204, 0.195, -1.55722, -4.49204, 0.195, 0.242782, 4.90796, 0.195, 4.74278, 5.00796, 0.195, 4.74278, 5.20796, 0.195, 4.14278, 4.80796, 0.195, 4.04278, 5.00796, 0.195, 1.64278, 4.50796, 0.195, 1.74278, 4.30796, 0.195, 3.74278, 5.70796, 0.195, 3.64278, 5.30796, 0.195, 1.24278, 6.20796, 0.195, 3.54278, 6.70796, 0.195, 3.84278, 2.20796, 0.195, 4.84278, 2.60796, 0.195, 4.84278, 2.60796, 0.195, 4.24278, 4.00796, 0.195, 1.44278, 2.90796, 0.195, 3.84278, 1.50796, 0.195, 6.74278, 1.50796, 0.195, 6.24278, 1.10796, 0.195, 6.14278, 0.807961, 0.195, 5.74278, -5.49204, 0.195, 2.14278, -6.79204, 0.195, 6.74278, 0.807961, 0.195, 2.14278, 5.10796, 0.195, 5.24278, 4.90796, 0.195, 5.54278, 6.70796, 0.195, 6.74278, 6.70796, 0.195, 5.64278, 6.00796, 0.195, 5.84278, 5.60796, 0.195, 5.64278, 2.60796, 0.195, 5.54278, 2.10796, 0.195, 5.94278, 4.40796, 0.195, 6.04278, 2.90796, 0.195, 5.94278)
polygons = [PackedInt32Array(2, 1, 0), PackedInt32Array(5, 4, 3), PackedInt32Array(5, 3, 6), PackedInt32Array(6, 3, 7), PackedInt32Array(10, 9, 8), PackedInt32Array(10, 8, 11), PackedInt32Array(11, 8, 6), PackedInt32Array(0, 11, 6), PackedInt32Array(0, 6, 2), PackedInt32Array(2, 6, 7), PackedInt32Array(1, 2, 12), PackedInt32Array(12, 2, 13), PackedInt32Array(15, 8, 14), PackedInt32Array(14, 8, 9), PackedInt32Array(17, 16, 18), PackedInt32Array(18, 16, 20), PackedInt32Array(18, 20, 19), PackedInt32Array(19, 20, 13), PackedInt32Array(23, 22, 21), PackedInt32Array(21, 22, 14), PackedInt32Array(14, 22, 15), PackedInt32Array(20, 12, 13), PackedInt32Array(19, 24, 18), PackedInt32Array(23, 21, 17), PackedInt32Array(17, 21, 16), PackedInt32Array(27, 26, 25), PackedInt32Array(25, 29, 27), PackedInt32Array(27, 29, 28), PackedInt32Array(27, 28, 15), PackedInt32Array(27, 15, 22), PackedInt32Array(30, 28, 31), PackedInt32Array(31, 28, 29), PackedInt32Array(33, 32, 34), PackedInt32Array(34, 32, 35), PackedInt32Array(37, 36, 38), PackedInt32Array(38, 36, 3), PackedInt32Array(32, 38, 35), PackedInt32Array(35, 38, 4), PackedInt32Array(4, 38, 3), PackedInt32Array(33, 34, 39), PackedInt32Array(39, 34, 40), PackedInt32Array(40, 34, 30), PackedInt32Array(41, 40, 31), PackedInt32Array(31, 40, 30), PackedInt32Array(43, 42, 44), PackedInt32Array(44, 42, 45), PackedInt32Array(48, 47, 46), PackedInt32Array(45, 48, 44), PackedInt32Array(44, 48, 49), PackedInt32Array(51, 50, 52), PackedInt32Array(52, 50, 24), PackedInt32Array(52, 24, 19), PackedInt32Array(49, 48, 51), PackedInt32Array(51, 48, 46), PackedInt32Array(51, 46, 50), PackedInt32Array(54, 53, 55), PackedInt32Array(55, 53, 26), PackedInt32Array(27, 56, 26), PackedInt32Array(26, 56, 57), PackedInt32Array(26, 57, 55), PackedInt32Array(47, 48, 56), PackedInt32Array(56, 48, 57), PackedInt32Array(60, 59, 58), PackedInt32Array(60, 58, 61), PackedInt32Array(61, 58, 62), PackedInt32Array(62, 58, 36), PackedInt32Array(36, 58, 63), PackedInt32Array(36, 37, 62), PackedInt32Array(62, 64, 61), PackedInt32Array(43, 65, 42), PackedInt32Array(42, 65, 66), PackedInt32Array(69, 68, 67), PackedInt32Array(66, 65, 70), PackedInt32Array(54, 71, 53), PackedInt32Array(53, 71, 72), PackedInt32Array(70, 69, 66), PackedInt32Array(66, 69, 73), PackedInt32Array(73, 69, 67), PackedInt32Array(72, 71, 74), PackedInt32Array(59, 72, 58), PackedInt32Array(58, 72, 74), PackedInt32Array(58, 74, 73), PackedInt32Array(58, 73, 67)]
geometry_parsed_geometry_type = 1
cell_size = 0.1
cell_height = 0.1
agent_height = 0.1
agent_radius = 0.6
agent_max_climb = 0.0

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_yrese"]
albedo_color = Color(0.408329, 0.408329, 0.408329, 1)
albedo_texture = ExtResource("1_2q4tk")
uv1_scale = Vector3(10, 10, 10)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_d0fcn"]
albedo_color = Color(0.462291, 0.462291, 0.462291, 1)

[node name="Node3D" type="Node3D"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_76we7")

[node name="Player" parent="." instance=ExtResource("1_idj7w")]
transform = Transform3D(-0.307624, 0, 0.394166, 0, 0.5, 0, -0.394166, 0, -0.307624, 5.01729, 1.20762, -5.2618)

[node name="MonsterNPC" parent="." node_paths=PackedStringArray("target") instance=ExtResource("2_kln2b")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.493229, 0)
target = NodePath("../Player")

[node name="Map" type="Node3D" parent="."]

[node name="Lights" type="Node3D" parent="Map"]

[node name="LightBulb" type="CSGSphere3D" parent="Map/Lights"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.30665, 3.40032, 4.82022)
radius = 0.072481
material = SubResource("StandardMaterial3D_iydfj")

[node name="RoofLight1" type="SpotLight3D" parent="Map/Lights/LightBulb"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0, 0, 0)
light_volumetric_fog_energy = 16.0
shadow_enabled = true
distance_fade_begin = 1.35
distance_fade_length = 2326.93
spot_range = 5.06357
spot_angle = 42.9967
spot_angle_attenuation = 2.21914

[node name="LightBulb2" type="CSGSphere3D" parent="Map/Lights"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5.61546, 3.40032, -5.51561)
radius = 0.072481
material = SubResource("StandardMaterial3D_iydfj")

[node name="RoofLight1" type="SpotLight3D" parent="Map/Lights/LightBulb2"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0, 0, 0)
light_volumetric_fog_energy = 16.0
shadow_enabled = true
distance_fade_begin = 1.35
distance_fade_length = 2326.93
spot_range = 5.06357
spot_angle = 42.9967
spot_angle_attenuation = 2.21914

[node name="LightBulb3" type="CSGSphere3D" parent="Map/Lights"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.73596, 3.40032, 3.85679)
radius = 0.072481
material = SubResource("StandardMaterial3D_iydfj")

[node name="RoofLight1" type="SpotLight3D" parent="Map/Lights/LightBulb3"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0, 0, 0)
light_volumetric_fog_energy = 16.0
shadow_enabled = true
distance_fade_begin = 1.35
distance_fade_length = 2326.93
spot_range = 5.06357
spot_angle = 67.5
spot_angle_attenuation = 2.21914

[node name="NavMesh" type="NavigationRegion3D" parent="Map"]
navigation_mesh = SubResource("NavigationMesh_idj7w")

[node name="Ground" type="CSGBox3D" parent="Map/NavMesh"]
use_collision = true
size = Vector3(15, 0.01, 15)
material = SubResource("StandardMaterial3D_yrese")

[node name="OuterWalls" type="Node3D" parent="Map/NavMesh"]

[node name="WallNorth" type="CSGBox3D" parent="Map/NavMesh/OuterWalls"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.131714, 1.75, -7.45)
use_collision = true
size = Vector3(15.6335, 3.5, 0.1)
material = SubResource("StandardMaterial3D_d0fcn")

[node name="WallEast" type="CSGBox3D" parent="Map/NavMesh/OuterWalls"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 7.45, 1.75, 0.152832)
use_collision = true
size = Vector3(15.6201, 3.5, 0.1)
material = SubResource("StandardMaterial3D_d0fcn")

[node name="WallSouth" type="CSGBox3D" parent="Map/NavMesh/OuterWalls"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.04599, 1.75, 7.45)
use_collision = true
size = Vector3(15.4921, 3.5, 0.1)
material = SubResource("StandardMaterial3D_d0fcn")

[node name="WallWest" type="CSGBox3D" parent="Map/NavMesh/OuterWalls"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -7.45, 1.75, 0.120514)
use_collision = true
size = Vector3(15.4249, 3.5, 0.1)
material = SubResource("StandardMaterial3D_d0fcn")

[node name="InnerWalls" type="Node3D" parent="Map/NavMesh"]

[node name="Wall" type="CSGBox3D" parent="Map/NavMesh/InnerWalls"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.94115, 1.75, 1.20793)
use_collision = true
size = Vector3(6.79318, 3.5, 0.601984)
material = SubResource("StandardMaterial3D_d0fcn")

[node name="Wall3" type="CSGBox3D" parent="Map/NavMesh/InnerWalls"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.94115, 1.75, -3.28118)
use_collision = true
size = Vector3(6.79318, 3.5, 0.1)
material = SubResource("StandardMaterial3D_d0fcn")

[node name="Wall2" type="CSGBox3D" parent="Map/NavMesh/InnerWalls"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.51403, 1.75, 3.52472)
use_collision = true
size = Vector3(0.112419, 3.5, 4.2316)
material = SubResource("StandardMaterial3D_d0fcn")

[node name="Wall5" type="CSGBox3D" parent="Map/NavMesh/InnerWalls"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5.17836, 1.75, 0.0304359)
use_collision = true
size = Vector3(0.112419, 3.5, 2.95858)
material = SubResource("StandardMaterial3D_d0fcn")

[node name="Wall4" type="CSGBox3D" parent="Map/NavMesh/InnerWalls"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.62673, 1.75, -0.984687)
use_collision = true
size = Vector3(0.112419, 3.5, 4.2316)
material = SubResource("StandardMaterial3D_d0fcn")

[node name="Boxes" type="Node3D" parent="Map/NavMesh"]

[node name="CSGBox3D" type="CSGBox3D" parent="Map/NavMesh/Boxes"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.765, 0.5, 4.855)
use_collision = true

[node name="CSGBox3D2" type="CSGBox3D" parent="Map/NavMesh/Boxes"]
transform = Transform3D(0.582364, 0, 0.812928, 0, 1, 0, -0.812928, 0, 0.582364, 6.10456, 0.341309, 4.71391)
use_collision = true
size = Vector3(0.684204, 0.682617, 0.688965)

[node name="CSGBox3D3" type="CSGBox3D" parent="Map/NavMesh/Boxes"]
transform = Transform3D(-0.755579, 0, 0.655057, 0, 1, 0, -0.655057, 0, -0.755579, 3.47211, 0.341309, -5.53107)
use_collision = true
size = Vector3(0.684204, 0.682617, 0.688965)

[node name="Roof" type="CSGBox3D" parent="Map"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 3.69672, 0)
visible = false
use_collision = true
size = Vector3(15, 0.403437, 15)
material = SubResource("StandardMaterial3D_d0fcn")
